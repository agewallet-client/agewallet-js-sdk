import{A as i}from"./index-oaKO7Rje.js";const o="https://aw-headless.netlify.app/",t=new i({clientId:"f84614c9-4601-45e5-a8a3-4a763229291d",mode:"overlay",render:!1,redirectUri:o,endpoints:{token:"/.netlify/functions/headless-token",userinfo:"/.netlify/functions/headless-userinfo"}});document.getElementById("reset-btn").addEventListener("click",()=>{confirm("Purge all session data?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")),window.location.reload())});document.getElementById("verify-btn").addEventListener("click",async()=>{const e=await t.generateAuthUrl();window.location.href=e.url});async function s(){await t.init();const e=await t.storage.getVerificationToken();if(e){document.getElementById("status-text").innerText="VERIFIED",document.getElementById("ui-content").classList.add("visible");try{const a=await(await fetch("/.netlify/functions/headless-content",{headers:{Authorization:`Bearer ${e}`}})).json();document.getElementById("api-data").innerHTML=`<pre>${JSON.stringify(a,null,2)}</pre>`}catch(n){document.getElementById("api-data").innerText="API Error: "+n.message}}else document.getElementById("status-text").innerText="WAITING FOR USER",document.getElementById("ui-gate").classList.add("visible")}s();
