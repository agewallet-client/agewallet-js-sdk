/**
 * AgeWallet Renderer Module
 * Handles DOM manipulation, CSS injection, Script Hydration, and Anti-Flicker.
 */
export default class Renderer {

    constructor() {
        // Default CSS (Same as before)
        this.defaultCss = `
            :root { --aw-bg: #000; --aw-card: #0d0d10; --aw-card-border: #1e1e24; --aw-text: #f5f7fb; --aw-muted: #c8cbd4; --aw-danger: #ff4d4f; --aw-purple: #6a1b9a; --aw-purple-700: #5a1784; --aw-shadow: 0 10px 30px rgba(0,0,0,.45); --aw-radius: 16px; }
            .aw-gate-wrapper { display:flex; justify-content:center; align-items:center; width:100%; height:100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
            .aw-gate { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 28px; border-radius: var(--aw-radius); box-sizing: border-box; max-width: 500px; width: 100%; background: var(--aw-card); border: 1px solid var(--aw-card-border); box-shadow: var(--aw-shadow); color: var(--aw-text); position: relative; }
            .aw-gate__logo-wrap { margin-bottom: 20px; text-align: center; width: 100%; }
            .aw-gate__logo { max-width: 150px; height: auto; display: inline-block; }
            .aw-gate__title { margin: 0 0 16px 0; font-size: 24px; line-height: 1.25; font-weight: 700; color: inherit; }
            .aw-gate__desc { margin: 0 0 24px 0; color: inherit; opacity: .9; line-height: 1.6; font-size: 16px; }
            .aw-gate__desc p { margin: 0; }
            .aw-gate__buttons { display: flex; justify-content: center; flex-wrap: wrap; gap: 12px; margin-top: 16px; width: 100%; }
            .aw-gate__btn { display: inline-flex; align-items: center; justify-content: center; min-height: 48px; padding: 10px 24px; border: 1px solid transparent; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: all .2s ease; text-decoration: none; box-sizing: border-box; }
            .aw-gate__btn--no { background: #2a2a32; color: #cdd0d7; }
            .aw-gate__btn--no:hover { background: #3a3a44; color: #fff; }
            .aw-gate__btn--yes { background: var(--aw-purple); color: #fff; box-shadow: 0 6px 15px rgba(106, 27, 154, 0.25); }
            .aw-gate__btn--yes:hover { background: var(--aw-purple-700); transform: translateY(-1px); }
            .aw-gate__error { margin-top: 16px; color: var(--aw-danger); font-weight: 600; font-size: 14px; display: none; width: 100%; }
            .aw-gate__disclaimer { margin-top: 20px; font-size: 13px; color: var(--aw-muted); text-align: center; width: 100%; opacity: 0.6; }
            .aw-gate__disclaimer a { color: inherit; text-decoration: underline; }

            /* Loading State */
            .aw-spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.1); border-left-color: var(--aw-purple); border-radius: 50%; animation: aw-spin 1s linear infinite; margin: 20px auto; }
            @keyframes aw-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        `;

        this.injectAntiFlicker();
    }

    injectAntiFlicker() {
        if (typeof document === 'undefined') return;
        if (document.getElementById('aw-hider')) return;
        const style = document.createElement('style');
        style.id = 'aw-hider';
        style.innerHTML = 'body { opacity: 0 !important; pointer-events: none !important; transition: opacity 0.3s ease; }';
        document.head.appendChild(style);
    }

    revealPage() {
        const hider = document.getElementById('aw-hider');
        if (hider) hider.remove();
    }

    injectCss() {
        if (document.getElementById('aw-default-css')) return;
        const style = document.createElement('style');
        style.id = 'aw-default-css';
        style.innerHTML = this.defaultCss;
        document.head.appendChild(style);
    }

    /**
     * Removes any existing Gate/Spinner overlay.
     */
    clearGate(target) {
        // For Full Page, we look for the wrapper we appended
        if (target === document.body) {
            const existing = document.getElementById('aw-gate-overlay');
            if (existing) existing.remove();
            document.body.style.overflow = ''; // Unlock scroll
        } else {
            // For Elements, we wipe it (assuming API mode or container gating)
            // BUT: If we are just removing a spinner to show content, API strategy handles hydration
            // If this is Overlay Mode on an Element, we need to be careful.
            // For now, element gating implies "Gate is on top", so removing it reveals content?
            // No, usually we replace.
            // Let's assume clearGate is mostly for the Full Page Overlay cleanup.
        }
    }

    /**
     * Internal render helper to handle Body vs Element logic
     */
    _renderHtml(target, htmlContent) {
        this.injectCss();
        const isFullPage = (target === document.body);

        if (isFullPage) {
            document.body.style.overflow = 'hidden';
            // Remove existing overlay if present to prevent stacking
            this.clearGate(target);

            // Append to body (Do NOT wipe content)
            target.insertAdjacentHTML('beforeend', htmlContent);
        } else {
            // Element Mode: Target IS the container, so we fill it.
            target.style.position = 'relative';
            target.style.minHeight = '300px';
            target.innerHTML = htmlContent;
        }

        // The UI is ready, so we can reveal the page/element
        this.revealPage();
    }

    renderGate(target, uiConfig, authUrl) {
        const title = uiConfig.title || 'You Must Verify Your Age';
        const desc = uiConfig.description || 'You must be 18+ to view this content. By clicking "I Agree", you confirm that you meet the minimum age requirement.';
        const btnText = uiConfig.buttonText || 'I Agree';
        const logoHtml = uiConfig.logo
            ? `<img src="${uiConfig.logo}" class="aw-gate__logo" alt="Logo">`
            : `<div class="aw-gate__logo-wrap">${this._getDefaultLogo()}</div>`;

        const isFullPage = (target === document.body);
        const wrapperStyle = isFullPage
            ? 'position: fixed; top: 0; left: 0; z-index: 999999; background-color: rgba(0,0,0,0.95);'
            : 'position: absolute; top: 0; left: 0; background-color: #000; height: 100%;';

        const html = `
            <div id="aw-gate-overlay" class="aw-gate-wrapper" style="${wrapperStyle}">
                <div class="aw-gate">
                    ${logoHtml}
                    <h1 class="aw-gate__title">${title}</h1>
                    <div class="aw-gate__desc"><p>${desc}</p></div>
                    <div class="aw-gate__buttons">
                        <button class="aw-gate__btn aw-gate__btn--no" type="button" onclick="this.closest('.aw-gate').querySelector('.aw-gate__error').style.display='block'">I Disagree</button>
                        <a href="${authUrl}" class="aw-gate__btn aw-gate__btn--yes">${btnText}</a>
                    </div>
                    <div class="aw-gate__error">Sorry, you do not meet the minimum requirements.</div>
                    <p class="aw-gate__disclaimer">Powered by <a href="https://agewallet.com" target="_blank">AgeWalletâ„¢</a></p>
                </div>
            </div>
        `;

        this._renderHtml(target, html);
    }

    renderLoading(target) {
        const isFullPage = (target === document.body);
        const wrapperStyle = isFullPage
            ? 'position: fixed; top: 0; left: 0; z-index: 999999; background-color: #000;'
            : 'position: absolute; top: 0; left: 0; background-color: #000; height: 100%;';

        const html = `
            <div id="aw-gate-overlay" class="aw-gate-wrapper" style="${wrapperStyle}">
                <div class="aw-gate">
                    <div class="aw-gate__logo-wrap">${this._getDefaultLogo()}</div>
                    <h1 class="aw-gate__title">Verifying...</h1>
                    <div class="aw-spinner"></div>
                </div>
            </div>
        `;

        this._renderHtml(target, html);
    }

    injectContent(target, htmlContent) {
        if (target === document.body) {
            document.body.style.overflow = '';
            // In API mode (Full Page), we DO want to replace body content
            target.innerHTML = htmlContent;
        } else {
            target.innerHTML = htmlContent;
        }

        // Re-animate Scripts
        const scripts = target.querySelectorAll('script');
        Array.from(scripts).forEach((oldScript) => {
            const newScript = document.createElement('script');
            Array.from(oldScript.attributes).forEach(attr => {
                newScript.setAttribute(attr.name, attr.value);
            });
            if (oldScript.innerHTML) {
                newScript.appendChild(document.createTextNode(oldScript.innerHTML));
            }
            oldScript.parentNode.replaceChild(newScript, oldScript);
        });

        this.revealPage();
    }

    _getDefaultLogo() {
        return `<svg class="aw-gate__logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 440 320" style="width: 150px; height: auto;" xml:space="preserve"><path fill="#E7E7E7" d="M112.710220,191.990448 C112.612427,191.353378 112.514633,190.716293 112.672455,189.347382 C113.027718,186.826935 113.127365,185.038345 113.664146,183.185760 C117.734047,183.089447 121.366814,183.057129 125.463943,183.046661 C130.288467,183.053955 134.648636,183.039429 139.465179,183.055267 C143.280685,183.065872 146.639801,183.046097 150.465805,183.057434 C156.288727,183.081528 161.644745,183.074493 167.468643,183.098572 C175.584061,183.120773 183.231766,183.080582 190.879074,183.119690 C193.617371,183.133698 196.522415,182.701721 195.776184,179.349579 C195.398315,177.652222 192.671402,175.361679 190.915131,175.278946 C182.960220,174.904175 174.972702,175.221115 166.535095,175.212921 C161.058624,175.187393 156.043961,175.237991 150.571152,175.205658 C146.407272,175.175629 142.701569,175.228531 138.534744,175.215958 C133.404922,175.204330 128.736206,175.258163 123.611145,175.224121 C119.819038,175.054337 116.483269,174.972427 113.119461,174.429825 C113.132027,167.392487 113.172638,160.815857 113.653671,154.175171 C118.064522,154.074646 122.034958,154.038147 126.467445,154.032867 C130.953827,154.045471 134.978165,154.026871 139.454788,154.039352 C141.715134,154.082275 143.524277,154.058594 145.330963,154.114441 C147.908188,154.194107 150.533173,153.502426 149.885376,150.563293 C149.498245,148.806763 147.190018,146.821930 145.328201,146.211044 C143.119293,145.486298 140.462097,146.127884 137.537323,146.125092 C132.724014,146.117371 128.372559,146.161896 123.566177,146.142365 C119.794350,146.007095 116.477432,145.935867 113.133942,145.405502 C113.124687,138.349564 113.141998,131.752762 113.608063,125.106949 C118.372704,125.033379 122.688568,125.008820 127.466522,125.013954 C131.954224,125.024033 135.979828,125.004402 140.450821,125.019463 C142.546021,125.064804 144.426651,125.579208 145.786240,124.956322 C147.420700,124.207520 148.611740,122.490852 149.994766,121.193230 C148.637100,119.820534 147.502930,117.872810 145.859940,117.234245 C144.162109,116.574364 141.969894,117.186516 139.535156,117.181419 C135.059021,117.139870 131.041687,117.159103 126.561745,117.122284 C121.778000,117.001465 117.456871,116.936707 113.104668,116.412430 C113.053711,112.838181 113.024460,109.723457 113.015663,106.608688 C112.986465,96.272171 112.989288,96.272163 123.415855,95.887321 C130.588791,95.920395 137.291824,95.885185 144.459930,95.903374 C149.954575,95.918785 154.984116,95.880798 160.479095,95.891495 C170.916214,95.955261 180.887939,95.960747 190.859589,95.991463 C193.740616,96.000336 196.264694,94.864876 195.664978,91.843216 C195.364899,90.331337 192.609512,88.281410 190.919281,88.237938 C180.294220,87.964653 169.656418,88.187286 158.579498,88.173492 C153.424118,88.153381 148.712097,88.205727 143.535797,88.194603 C136.356583,88.211159 129.641647,88.291176 122.479294,88.300247 C119.169815,88.229301 116.307747,88.229301 113.598717,88.229301 C113.132683,85.733963 112.837509,84.153450 112.542336,82.572937 C112.590279,81.902840 112.638214,81.232750 113.159256,80.105690 C114.008560,78.350815 114.384743,77.052902 114.760933,75.754990 C117.808281,73.057732 120.855637,70.360466 124.506378,67.779709 C125.773438,67.572586 126.437103,67.248962 127.100761,66.925339 C129.692749,66.772453 132.284729,66.619576 135.715424,66.715637 C148.363724,66.871643 160.173309,66.778694 172.446518,66.761597 C180.611740,66.799828 188.313339,66.762215 196.478333,66.787621 C204.962769,66.815468 212.983810,66.780281 221.468643,66.807541 C228.275803,66.664856 234.619171,66.459732 241.351593,66.397568 C248.702591,66.675697 255.665039,66.942444 262.626404,66.916435 C274.233154,66.873070 285.839172,66.642250 297.445496,66.490356 C311.292877,66.235893 319.556305,74.316132 319.597931,88.167526 C319.613800,93.446274 319.600555,98.725098 319.600555,104.603813 C317.233032,104.603813 315.455627,104.603546 313.678253,104.603859 C300.525116,104.606148 287.370758,104.497444 274.219086,104.637604 C255.622391,104.835800 241.331512,118.909851 241.170654,136.973999 C241.008316,155.205765 254.771408,169.611862 273.393250,170.064957 C287.035095,170.396896 300.698212,170.182938 314.343353,169.855881 C318.584991,169.754196 320.001404,171.027008 319.669678,175.200974 C319.367523,179.003052 319.753143,182.854553 319.689484,186.681839 C319.520355,196.843201 312.404419,204.816315 302.276581,205.647537 C295.826111,206.176941 289.314819,206.065643 282.830719,206.069321 C234.886017,206.096588 186.941284,206.083618 138.996567,206.069778 C136.333649,206.069016 133.670349,205.961212 131.007919,205.880478 C123.152512,205.642303 117.459190,201.973038 113.857895,194.359558 C113.488266,193.123337 113.099243,192.556900 112.710220,191.990448 z"/><path fill="#939ED9" d="M297.405151,66.068924 C285.839172,66.642250 274.233154,66.873070 262.626404,66.916435 C255.665039,66.942444 248.702591,66.675697 241.406158,65.984375 C241.714462,61.902557 242.752045,58.396332 242.926727,54.847637 C243.472656,43.755703 243.221069,32.722733 237.859375,22.528791 C249.765915,18.551983 261.259216,12.764780 274.243164,13.243677 C287.120972,13.718657 297.495300,24.885059 297.444702,37.739700 C297.408112,47.042259 297.390747,56.344891 297.405151,66.068924 z"/><path fill="#959FD9" d="M319.415710,116.759949 C319.501862,117.320869 319.588043,117.881783 319.387360,119.199783 C319.152832,121.535149 319.205109,123.113419 319.257385,124.691696 C319.386108,127.314095 319.514801,129.936493 319.407959,133.531128 C319.205322,134.915802 319.238251,135.328247 319.271179,135.740692 C319.408936,141.990387 319.546722,148.240097 319.405090,155.453552 C319.182556,157.191376 319.239410,157.965424 319.296265,158.739487 C319.393372,159.336227 319.490479,159.932953 318.883301,160.753479 C309.114502,160.970596 300.049957,160.963928 290.990906,160.628677 C290.998962,159.860901 291.001556,159.421677 291.258118,158.738937 C291.672668,157.336334 291.833282,156.177246 291.995605,154.639282 C291.999084,153.502670 292.000824,152.744919 292.237305,151.735596 C291.542969,148.258789 290.613922,145.033554 289.712402,141.385300 C289.124298,137.318634 288.508636,133.674957 288.154602,129.810577 C287.640289,127.578285 287.197021,125.342812 286.023346,123.598953 C283.022766,119.140602 283.163605,116.034813 287.022675,112.544640 C297.108215,112.461426 307.193756,112.356354 317.279388,112.342720 C317.974304,112.341782 318.670166,113.023315 319.245209,114.154938 C319.221802,115.534927 319.318756,116.147438 319.415710,116.759949 z"/><path fill="#9E9ED8" d="M237.460968,22.513559 C243.221069,32.722733 243.472656,43.755703 242.926727,54.847637 C242.752045,58.396332 241.714462,61.902557 241.017120,65.841415 C234.619171,66.459732 228.275803,66.664856 221.467010,66.363770 C221.000702,59.364265 221.602905,52.796791 220.816086,46.400169 C220.135544,40.867516 221.771698,34.583767 217.013153,29.795650 C217.031860,29.466476 217.043198,29.278112 217.051758,29.089581 C223.722031,26.892494 230.392288,24.695412 237.460968,22.513559 z"/><path fill="#A69AD3" d="M217.008591,29.936626 C221.771698,34.583767 220.135544,40.867516 220.816086,46.400169 C221.602905,52.796791 221.000702,59.364265 221.003235,66.301331 C212.983810,66.780281 204.962769,66.815468 196.476929,66.392494 C196.168777,64.964752 196.419388,63.999790 196.467392,63.024857 C196.922333,53.782730 197.342834,44.538910 197.773254,35.295578 C197.773270,35.295578 197.953079,34.964272 198.228088,34.952251 C198.503113,34.940231 198.819489,34.755772 198.819489,34.755775 C199.541870,34.483021 200.264236,34.210270 201.590088,33.908691 C202.479050,33.820675 202.722794,33.685940 202.924789,33.475662 C204.504944,32.912994 206.085083,32.350327 208.441498,31.820627 C211.814697,31.214605 214.411652,30.575617 217.008591,29.936626 z"/><path fill="#B098CF" d="M197.362274,35.285828 C197.342834,44.538910 196.922333,53.782730 196.467392,63.024857 C196.419388,63.999790 196.168777,64.964752 196.013550,66.329468 C188.313339,66.762215 180.611740,66.799828 172.469391,66.375191 C172.590439,62.041515 174.376022,57.849689 173.463501,54.364246 C171.460724,46.714336 174.445572,42.861263 181.145172,40.571320 C181.145172,40.571320 181.090668,40.238338 181.348846,40.161133 C181.607040,40.083927 181.814026,40.057400 181.814026,40.057400 C182.018539,40.020031 182.223068,39.982662 183.111664,39.985577 C185.866119,39.251656 187.936478,38.477455 190.006851,37.703255 C192.321671,36.894196 194.636490,36.085136 197.362274,35.285828 z"/><path fill="#B591C1" d="M180.766479,40.536797 C174.445572,42.861263 171.460724,46.714336 173.463501,54.364246 C174.376022,57.849689 172.590439,62.041515 172.005768,66.299347 C160.173309,66.778694 148.363724,66.871643 136.093475,66.786919 C136.475128,65.089996 137.650345,63.662628 138.099609,62.034893 C139.675430,56.325474 143.137131,52.489433 148.740387,50.667122 C159.277008,47.240360 169.837326,43.886463 180.766479,40.536797 z"/><path fill="#AB97C9" d="M265.812103,160.946396 C263.965942,160.171509 262.119812,159.396622 259.964844,158.372040 C259.656036,158.122360 259.796234,158.095627 259.796234,158.095627 C246.286270,148.715805 244.711304,130.982956 256.706604,119.382645 C258.527863,122.675644 259.843445,125.806885 261.485687,128.756241 C262.363647,130.333038 263.804840,131.596191 264.988159,133.446777 C264.047638,140.733902 266.173035,146.175934 271.935974,150.064301 C271.096405,153.839096 270.577820,157.358795 269.616150,160.923859 C268.582245,161.042603 267.991425,161.115967 267.400604,161.189331 C267.013489,161.192932 266.626373,161.196518 265.996368,161.085999 C265.753479,160.971863 265.812103,160.946396 265.812103,160.946396 z"/><path fill="#A991B0" d="M112.266602,82.839844 C112.837509,84.153450 113.132683,85.733963 113.598717,88.229301 C116.307747,88.229301 119.169815,88.229301 122.494843,88.702492 C122.953850,91.390129 122.949898,93.604584 122.945946,95.819031 C112.989288,96.272163 112.986465,96.272171 113.015663,106.608688 C113.024460,109.723457 113.053711,112.838181 113.074524,116.871605 C113.103401,120.245514 113.131355,122.700729 113.159302,125.155952 C113.141998,131.752762 113.124687,138.349564 113.105103,145.777893 C113.119148,147.107025 113.135483,147.604630 113.126678,148.400787 C113.118622,149.097885 113.135689,149.496399 113.125168,150.328003 C113.136139,151.920471 113.174690,153.079834 113.213249,154.239212 C113.172638,160.815857 113.132027,167.392487 113.089294,174.889862 C113.133781,178.290329 113.180397,180.770035 113.227013,183.249756 C113.127365,185.038345 113.027718,186.826935 112.737930,189.024063 C112.216614,188.211838 111.598587,186.991653 111.596115,185.770218 C111.529648,152.861618 111.520767,119.952904 111.532600,87.044212 C111.533073,85.731667 111.831352,84.419235 112.266602,82.839844 z"/><path fill="#A59DD3" d="M264.991852,133.000916 C263.804840,131.596191 262.363647,130.333038 261.485687,128.756241 C259.843445,125.806885 258.527863,122.675644 257.024902,119.260498 C260.105042,117.249840 263.236694,115.598740 267.149323,113.952164 C269.159058,113.583092 270.387817,113.209488 271.616577,112.835884 C272.539795,112.663994 273.463013,112.492104 274.713257,112.928040 C275.037598,117.277191 275.034882,121.018532 274.686157,124.882294 C271.224060,127.670120 268.107971,130.335510 264.991852,133.000916 z"/><path fill="#9497CD" d="M275.032166,124.759865 C275.034882,121.018532 275.037598,117.277191 275.058594,113.045219 C278.775177,112.452957 282.473480,112.351334 286.597229,112.397179 C283.163605,116.034813 283.022766,119.140602 286.023346,123.598953 C287.197021,125.342812 287.640289,127.578285 287.867157,129.638062 C284.006348,126.090004 279.864716,124.563377 275.032166,124.759865 z"/><path fill="#9497CD" d="M267.705658,161.451691 C267.991425,161.115967 268.582245,161.042603 270.077332,160.958405 C277.649567,160.950806 284.317474,160.954025 290.985413,160.957245 C300.049957,160.963928 309.114502,160.970596 318.657166,160.975067 C318.033752,161.442474 316.934662,162.314377 315.830353,162.321014 C300.856628,162.411346 285.882141,162.393921 270.907990,162.352875 C269.941650,162.350235 268.976440,161.936523 267.705658,161.451691 z"/><path fill="#B591C1" d="M217.013153,29.795650 C214.411652,30.575617 211.814697,31.214605 208.799240,31.827477 C211.049469,30.811785 213.718231,29.822210 216.719360,28.961109 C217.043198,29.278112 217.031860,29.466476 217.013153,29.795650 z"/><path fill="#B591C1" d="M189.659409,37.643486 C187.936478,38.477455 185.866119,39.251656 183.421600,40.020111 C185.135620,39.204144 187.223801,38.393929 189.659409,37.643486 z"/><path fill="#9497CD" d="M319.498016,124.447769 C319.205109,123.113419 319.152832,121.535149 319.253296,119.609283 C319.516937,120.909073 319.627777,122.556458 319.498016,124.447769 z"/><path fill="#A991B0" d="M114.490479,75.865479 C114.384743,77.052902 114.008560,78.350815 113.325836,79.808182 C113.419548,78.637077 113.819786,77.306519 114.490479,75.865479 z"/><path fill="#9497CD" d="M271.340210,112.643044 C270.387817,113.209488 269.159058,113.583092 267.552185,113.998932 C268.470642,113.510841 269.767273,112.980522 271.340210,112.643044 z"/><path fill="#9497CD" d="M319.658386,116.690529 C319.318756,116.147438 319.221802,115.534927 319.212769,114.609535 C319.500824,115.071472 319.700928,115.846291 319.658386,116.690529 z"/><path fill="#9497CD" d="M319.517944,158.555725 C319.239410,157.965424 319.182556,157.191376 319.210022,155.837402 C319.442780,156.295654 319.591187,157.333817 319.517944,158.555725 z"/><path fill="#B591C1" d="M126.858261,66.767220 C126.437103,67.248962 125.773438,67.572586 124.855919,67.726929 C125.273293,67.241470 125.944527,66.925285 126.858261,66.767220 z"/><path fill="#A991B0" d="M112.580467,192.191742 C113.099243,192.556900 113.488266,193.123337 113.744209,194.034454 C113.224319,193.717072 112.837517,193.055038 112.580467,192.191742 z"/><path fill="#9497CD" d="M319.484009,135.601410 C319.238251,135.328247 319.205322,134.915802 319.218231,133.881592 C319.408295,133.993942 319.552582,134.728043 319.484009,135.601410 z"/><path fill="#9497CD" d="M259.748230,158.063614 C259.796234,158.095627 259.656036,158.122360 259.627319,158.099915 C259.598633,158.077454 259.700256,158.031601 259.748230,158.063614 z"/><path fill="#9497CD" d="M265.722687,160.986847 C265.812103,160.946396 265.753479,160.971863 265.732635,160.949829 C265.711792,160.927811 265.559540,161.112808 265.559540,161.112808 C265.559540,161.112808 265.633270,161.027283 265.722687,160.986847 z"/><path fill="#B591C1" d="M181.870178,39.840355 C181.814026,40.057400 181.607040,40.083927 181.503204,40.093021 C181.575027,39.942513 181.750687,39.782909 181.870178,39.840355 z"/><path fill="#B591C1" d="M198.704742,34.653259 C198.819489,34.755772 198.503113,34.940231 198.416199,34.963940 C198.329300,34.987648 198.312454,34.681335 198.312454,34.681335 C198.312454,34.681335 198.590012,34.550743 198.704742,34.653259 z"/><path fill="#B591C1" d="M202.696655,33.404938 C202.722794,33.685940 202.479050,33.820675 201.982574,33.891998 C201.869339,33.549599 202.101654,33.359631 202.696655,33.404938 z"/><path fill="#939ED9" d="M159.022827,88.245956 C169.656418,88.187286 180.294220,87.964653 190.919281,88.237938 C192.609512,88.281410 195.364899,90.331337 195.664978,91.843216 C196.264694,94.864876 193.740616,96.000336 190.859589,95.991463 C180.887939,95.960747 170.916214,95.955261 160.475006,95.500153 C159.677933,92.788734 159.350372,90.517349 159.022827,88.245956 z"/><path fill="#959FDB" d="M166.996933,175.289032 C174.972702,175.221115 182.960220,174.904175 190.915131,175.278946 C192.671402,175.361679 195.398315,177.652222 195.776184,179.349579 C196.522415,182.701721 193.617371,183.133698 190.879074,183.119690 C183.231766,183.080582 175.584061,183.120773 167.468536,182.656082 C166.999359,179.884674 166.998154,177.586853 166.996933,175.289032 z"/><path fill="#B290CB" d="M123.415855,95.887321 C122.949898,93.604584 122.953850,91.390129 122.942253,88.773438 C129.641647,88.291176 136.356583,88.211159 143.535217,88.609161 C143.997559,91.341438 143.996216,93.595711 143.994873,95.849976 C137.291824,95.885185 130.588791,95.920395 123.415855,95.887321 z"/><path fill="#9B97D5" d="M166.535095,175.212921 C166.998154,177.586853 166.999359,179.884674 167.000671,182.625000 C161.644745,183.074493 156.288727,183.081528 150.520157,182.666016 C150.414856,179.925171 150.722076,177.606873 151.029312,175.288574 C156.043961,175.237991 161.058624,175.187393 166.535095,175.212921 z"/><path fill="#A199D5" d="M144.459946,95.903374 C143.996216,93.595711 143.997559,91.341438 143.999481,88.672623 C148.712097,88.205727 153.424118,88.153381 158.579498,88.173492 C159.350372,90.517349 159.677933,92.788734 160.009583,95.451477 C154.984116,95.880798 149.954575,95.918785 144.459946,95.903374 z"/><path fill="#B290CB" d="M124.067497,175.312012 C128.736206,175.258163 133.404922,175.204330 138.537170,175.633026 C139.003403,178.418686 139.006088,180.721786 139.008789,183.024902 C134.648636,183.039429 130.288467,183.053955 125.453506,182.648102 C124.674973,179.922470 124.371239,177.617233 124.067497,175.312012 z"/><path fill="#C196C9" d="M113.608063,125.106949 C113.131355,122.700729 113.103401,120.245514 113.105598,117.331116 C117.456871,116.936707 121.778000,117.001465 126.554771,117.548111 C127.008423,120.348076 127.006432,122.666168 127.004440,124.984253 C122.688568,125.008820 118.372704,125.033379 113.608063,125.106949 z"/><path fill="#B290CB" d="M139.002487,154.008286 C134.978165,154.026871 130.953827,154.045471 126.457520,153.655762 C125.330719,150.900421 124.675903,148.553406 124.021088,146.206390 C128.372559,146.161896 132.724014,146.117371 137.538788,146.519318 C138.335541,149.313293 138.669006,151.660782 139.002487,154.008286 z"/><path fill="#B290CB" d="M127.466522,125.013954 C127.006432,122.666168 127.008423,120.348076 127.017387,117.604164 C131.041687,117.159103 135.059021,117.139870 139.537598,117.601334 C140.001053,120.382942 140.003250,122.683853 140.005447,124.984772 C135.979828,125.004402 131.954224,125.024033 127.466522,125.013954 z"/><path fill="#A69AD3" d="M139.465179,183.055267 C139.006088,180.721786 139.003403,178.418686 138.998291,175.698517 C142.701569,175.228531 146.407272,175.175629 150.571152,175.205658 C150.722076,177.606873 150.414856,179.925171 150.053268,182.634888 C146.639801,183.046097 143.280685,183.065872 139.465179,183.055267 z"/><path fill="#C490C7" d="M123.566177,146.142365 C124.675903,148.553406 125.330719,150.900421 125.995461,153.624542 C122.034958,154.038147 118.064522,154.074646 113.653671,154.175171 C113.174690,153.079834 113.136139,151.920471 113.306190,150.191315 C113.393806,149.115097 113.272812,148.608658 113.151810,148.102219 C113.135483,147.604630 113.119148,147.107025 113.131660,146.237030 C116.477432,145.935867 119.794350,146.007095 123.566177,146.142365 z"/><path fill="#C39CCB" d="M123.611145,175.224121 C124.371239,177.617233 124.674973,179.922470 124.989151,182.626251 C121.366814,183.057129 117.734047,183.089447 113.664146,183.185760 C113.180397,180.770035 113.133781,178.290329 113.117340,175.350555 C116.483269,174.972427 119.819038,175.054337 123.611145,175.224121 z"/><path fill="#A69AD3" d="M139.454788,154.039352 C138.669006,151.660782 138.335541,149.313293 138.000626,146.571564 C140.462097,146.127884 143.119293,145.486298 145.328201,146.211044 C147.190018,146.821930 149.498245,148.806763 149.885376,150.563293 C150.533173,153.502426 147.908188,154.194107 145.330963,154.114441 C143.524277,154.058594 141.715134,154.082275 139.454788,154.039352 z"/><path fill="#A69AD3" d="M140.450821,125.019463 C140.003250,122.683853 140.001053,120.382942 139.996399,117.662109 C141.969894,117.186516 144.162109,116.574364 145.859940,117.234245 C147.502930,117.872810 148.637100,119.820534 149.994766,121.193230 C148.611740,122.490852 147.420700,124.207520 145.786240,124.956322 C144.426651,125.579208 142.546021,125.064804 140.450821,125.019463 z"/><path fill="#E5E5E7" d="M274.686157,124.882294 C279.864716,124.563377 284.006348,126.090004 287.605530,129.858765 C288.508636,133.674957 289.124298,137.318634 289.484955,141.582947 C288.788483,143.078918 288.347015,143.954239 287.610291,145.009644 C283.266846,149.895126 277.991882,150.601761 272.257019,149.809219 C266.173035,146.175934 264.047638,140.733902 264.988159,133.446793 C268.107971,130.335510 271.224060,127.670120 274.686157,124.882294 z"/><path fill="#A29ED7" d="M271.935974,150.064301 C277.991882,150.601761 283.266846,149.895126 287.683472,145.384155 C289.368744,147.714798 290.685638,149.850998 292.002563,151.987183 C292.000824,152.744919 291.999084,153.502670 291.664429,154.703781 C291.222412,156.425598 291.113281,157.704025 291.004150,158.982468 C291.001556,159.421677 290.998962,159.860901 290.990906,160.628693 C284.317474,160.954025 277.649567,160.950806 270.520447,160.913040 C270.577820,157.358795 271.096405,153.839096 271.935974,150.064301 z"/><path fill="#9497CD" d="M292.237305,151.735596 C290.685638,149.850998 289.368744,147.714798 287.978699,145.204071 C288.347015,143.954239 288.788483,143.078918 289.457397,142.005951 C290.613922,145.033554 291.542969,148.258789 292.237305,151.735596 z"/><path fill="#9497CD" d="M291.258118,158.738937 C291.113281,157.704025 291.222412,156.425598 291.662720,155.082672 C291.833282,156.177246 291.672668,157.336334 291.258118,158.738937 z"/><path fill="#C39CCB" d="M113.126686,148.400787 C113.272812,148.608658 113.393806,149.115097 113.333778,149.758224 C113.135689,149.496399 113.118622,149.097885 113.126686,148.400787 z"/></svg>`;
    }
}