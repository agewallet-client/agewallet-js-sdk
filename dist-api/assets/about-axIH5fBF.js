import{A as i}from"./index-oaKO7Rje.js";document.getElementById("reset-btn").addEventListener("click",()=>{confirm("Reset?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())});const a=window.location.origin+"/",r=new i({clientId:"8a6faa46-d650-47a7-b586-dff15ba80bd5",mode:"overlay",redirectUri:a,endpoints:{token:"/.netlify/functions/api-token",userinfo:"/.netlify/functions/api-userinfo"}});r.init().then(async()=>{const t=await r.storage.getVerificationToken();if(t)try{const n=await fetch("/.netlify/functions/secure-data",{headers:{Authorization:`Bearer ${t}`}}),e=await n.json();if(n.ok){const o=document.getElementById("secure-content");o.style.display="block",o.innerHTML=`<h3>ℹ️ About Us (Secure)</h3><p>${e.secret_message}</p><p>Server Timestamp: ${e.timestamp}</p>`}else throw new Error(e.error)}catch(n){const e=document.getElementById("error-content");e.style.display="block",e.innerText=`API Error: ${n.message}`}});
