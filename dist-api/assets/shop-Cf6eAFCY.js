import{A as a}from"./index-oaKO7Rje.js";document.getElementById("reset-btn").addEventListener("click",()=>{confirm("Reset?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())});const i=window.location.origin+"/",r=new a({clientId:"8a6faa46-d650-47a7-b586-dff15ba80bd5",mode:"overlay",redirectUri:i,endpoints:{token:"/.netlify/functions/api-token",userinfo:"/.netlify/functions/api-userinfo"}});r.init().then(async()=>{const t=await r.storage.getVerificationToken();if(t)try{const n=await fetch("/.netlify/functions/secure-data",{headers:{Authorization:`Bearer ${t}`}}),e=await n.json();if(n.ok){const o=document.getElementById("secure-content");o.style.display="block",o.innerHTML=`<h3>ðŸ›’ Shop Inventory (Secure)</h3><p>User Status: <strong>${e.user_age_status}</strong></p><p>${e.secret_message}</p>`}else throw new Error(e.error)}catch(n){const e=document.getElementById("error-content");e.style.display="block",e.innerText=`API Error: ${n.message}`}});
